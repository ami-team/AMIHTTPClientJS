/*!
 * AMI HTTP Client 1.0.0
 *
 * Copyright © 2021-2021 CNRS/LPSC
 *
 * Author: Jérôme ODIER (jerome.odier@lpsc.in2p3.fr)
 *
 * Repositories: https://gitlab.in2p3.fr/ami-team/AMIHTTPClientJS/
 *               https://www.github.com/ami-team/AMIHTTPClientJS/
 *
 * This software is a computer program whose purpose is to provide an
 * HTTP Client to the ATLAS Metadata Interface (AMI) ecosystem.
 *
 * This software is governed by the CeCILL-C license under French law and
 * abiding by the rules of distribution of free software. You can use,
 * modify and/or redistribute the software under the terms of the CeCILL-C
 * license as circulated by CEA, CNRS and INRIA at the following URL
 * "http://www.cecill.info".
 *
 * The fact that you are presently reading this means that you have had
 * knowledge of the CeCILL-C license and that you accept its terms.
 *
 */(()=>{var e={915:(e,t,r)=>{e.exports=r(583)},583:(e,t,r)=>{"use strict";var n;!function(){var o=1,a=2,u=3,i=4,s=5,f=6,c=7,p=8,l=9,h=10,v=11,y=function(){var e,t,r,n,y=1,g=2,d=3,w=4,b=5,m=6,x=7,j='Unexpected token "%0"',O="Unexpected end of path";function I(){for(var e,t=A();T("|");)F(),(e||(e=[t])).push(A());return e?{type:p,args:e}:t}function A(){return T("(")?k():$()}function k(){z("(");var e=I();z(")");for(var t,r=[];t=S();)r.push(t);return r.length?e.type===o?(e.parts=e.parts.concat(r),e):(r.unshift(e),{type:o,parts:r}):e}function S(){return T("[")?function(){z("[");var e=function(){if(T(":"))return F(),{type:h,toIdx:N()};var e=N();if(T(":"))return F(),T("]")?{type:h,fromIdx:e}:{type:h,fromIdx:e,toIdx:N()};return{type:h,idx:e}}();return z("]"),{type:i,arg:e}}():T("{")?function(){z("{");var e=M();return z("}"),{type:u,arg:e}}():T("(")?k():void 0}function $(){D()||Z(F());var e,t=!1;T("^")?(F(),t=!0):U()&&(e=F().val.substr(1));for(var r,n=[];r=L()?function(){var e,t=F().val,r=B();(T("*")||r.type===y||r.type===d)&&(e=F().val);return{type:a,selector:t,prop:e}}():S();)n.push(r);return{type:o,fromRoot:t,subst:e,parts:n}}function M(){for(var e,t=P();T("||");)F(),(e||(e=[t])).push(P());return e?{type:s,op:"||",args:e}:t}function P(){for(var e,t=C();T("&&");)F(),(e||(e=[t])).push(C());return e?{type:s,op:"&&",args:e}:t}function C(){for(var e=E();T("==")||T("!=")||T("===")||T("!==")||T("^==")||T("==^")||T("^=")||T("=^")||T("$==")||T("==$")||T("$=")||T("=$")||T("*==")||T("==*")||T("*=")||T("=*");)e={type:f,op:F().val,args:[e,C()]};return e}function E(){for(var e=function(){var e=W();for(;T("+")||T("-");)e={type:c,op:F().val,args:[e,W()]};return e}();T("<")||T(">")||T("<=")||T(">=");)e={type:f,op:F().val,args:[e,E()]};return e}function W(){for(var e=N();T("*")||T("/")||T("%");)e={type:c,op:F().val,args:[e,W()]};return e}function N(){return T("!")||T("-")?{type:l,op:F().val,arg:N()}:function(){var e=B().type;if(e===d||e===g||e===w||e===b)return{type:v,val:F().val};if(D())return $();if(T("("))return function(){z("(");var e=M();return z(")"),e}();return Z(F())}()}function T(e){var t=B();return t.type===m&&t.val===e}function D(){return L()||U()||T("^")}function L(){var e=B();if(e.type===m){var t=e.val;return"."===t||".."===t}return!1}function U(){var e=B();return e.type===y&&"$"===e.val[0]}function z(e){var t=F();t.type===m&&t.val===e||Z(t)}function B(){if(null!==r)return r;var e=t;return r=J(),t=e,r}function J(){for(;r=e[t]," \r\n\t".indexOf(r)>-1;)++t;var r;if(t>=n)return{type:x,range:[t,t]};var o=function(){var r=t,n=e[t],o=e[t+1];if("."===n){if(G(o))return;return"."===e[++t]?{type:m,val:"..",range:[r,++t]}:{type:m,val:".",range:[r,t]}}if("="===o){var a=e[t+2];if("="===a){if("=!^$*".indexOf(n)>=0)return{type:m,val:n+o+a,range:[r,t+=3]}}else if("^$*".indexOf(a)>=0){if("="===n)return{type:m,val:n+o+a,range:[r,t+=3]}}else if("=!^$*><".indexOf(n)>=0)return{type:m,val:n+o,range:[r,t+=2]}}else if("="===n&&"^$*".indexOf(o)>=0)return{type:m,val:n+o,range:[r,t+=2]};if(n===o&&("|"===n||"&"===n))return{type:m,val:n+o,range:[r,t+=2]};if(":{}()[]^+-*/%!><|".indexOf(n)>=0)return{type:m,val:n,range:[r,++t]}}();if(o||(o=function(){var r=e[t];if(!R(r))return;var o=t,a=r;for(;++t<n&&_(r=e[t]);)a+=r;switch(a){case"true":case"false":return{type:w,val:"true"===a,range:[o,t]};case"null":return{type:b,val:null,range:[o,t]};default:return{type:y,val:a,range:[o,t]}}}())||(o=function(){if('"'!==e[t]&&"'"!==e[t])return;var r,o=e[t],a=++t,u="",i=!1;for(;t<n;){if("\\"===(r=e[t++]))r=e[t++];else if(('"'===r||"'"===r)&&r===o){i=!0;break}u+=r}if(i)return{type:d,val:u,range:[a,t]}}())||(o=function(){var r=t,o=e[t],a="."===o;if(a||G(o)){for(var u=o;++t<n;){if("."===(o=e[t])){if(a)return;a=!0}else if(!G(o))break;u+=o}return{type:g,val:a?parseFloat(u):parseInt(u,10),range:[r,t]}}}()))return o;o={range:[t,t]},t>=n?o.type=x:o.val=e[t],Z(o)}function F(){var e;return r?(t=r.range[1],e=r,r=null,e):J()}function G(e){return"0123456789".indexOf(e)>=0}function R(e){return"$"===e||"@"===e||"_"===e||e>="a"&&e<="z"||e>="A"&&e<="Z"}function _(e){return R(e)||e>="0"&&e<="9"}function Z(e){e.type===x&&X(e,O),X(e,j,e.val)}function X(e,t){var r=Array.prototype.slice.call(arguments,2),n=t.replace(/%(\d)/g,(function(e,t){return r[t]||""})),o=new Error(n);throw o.column=e.range[0],o}return function(o){e=o.split(""),t=0,r=null,n=e.length;var a=I(),u=F();return u.type!==x&&Z(u),a}}(),g=function(){var e,t,r,n;function h(){if(n.length)return n.shift();var e="v"+ ++r;return t.push(e),e}function y(){for(var e=arguments,t=e.length;t--;)n.push(e[t])}function g(t,r,n){if(t.prop){var o=O(t.prop),a=h(),u=h(),i=h(),s=h(),f=h(),c=h(),p=h();e.push(a,"= [];",u,"= 0;",i,"=",n,".length;",p,"= [];","while(",u,"<",i,") {",s,"=",n,"[",u,"++];","if(",s,"!= null) {"),"*"===t.prop?(e.push("if(typeof ",s,'=== "object") {',"if(isArr(",s,")) {",a,"=",a,".concat(",s,");","}","else {","for(",f," in ",s,") {","if(",s,".hasOwnProperty(",f,")) {",c,"=",s,"[",f,"];"),I(a,c),e.push("}","}","}","}")):(e.push(c,"=",s,"[",o,"];"),I(a,c,p,i)),e.push("}","}",r,"=",i,"> 1 &&",p,".length?",p,".length > 1?","concat.apply(",a,",",p,") :",a,".concat(",p,"[0]) :",a,";"),y(a,u,i,s,f,c,p)}}function d(t,r,n){var o=t.prop,a=h(),u=h(),i=h(),s=h(),f=h(),c=h(),p=h(),l=h();e.push(a,"=",n,".slice(),",l,"= [];","while(",a,".length) {",u,"=",a,".shift();"),o?e.push("if(typeof ",u,'=== "object" &&',u,") {"):e.push("if(typeof ",u,"!= null) {"),e.push(i,"= [];","if(isArr(",u,")) {",s,"= 0,",p,"=",u,".length;","while(",s,"<",p,") {",c,"=",u,"[",s,"++];"),o&&e.push("if(typeof ",c,'=== "object") {'),I(i,c),o&&e.push("}"),e.push("}","}","else {"),o?"*"!==o&&(e.push(c,"=",u,'["'+o+'"];'),I(l,c)):(I(l,u),e.push("if(typeof ",u,'=== "object") {')),e.push("for(",f," in ",u,") {","if(",u,".hasOwnProperty(",f,")) {",c,"=",u,"[",f,"];"),I(i,c),"*"===o&&I(l,c),e.push("}","}"),o||e.push("}"),e.push("}",i,".length &&",a,".unshift.apply(",a,",",i,");","}","}",r,"=",l,";"),y(a,u,i,s,f,c,p,l)}function w(t,r,n){var o=h(),a=h(),u=h(),i=h(),s=h();e.push(o,"= [];",a,"= 0;",u,"=",n,".length;","while(",a,"<",u,") {",s,"=",n,"[",a,"++];"),m(t.arg,i,s),e.push(k(t.arg,i),"&&",o,".push(",s,");","}",r,"=",o,";"),y(o,a,u,s,i)}function b(t,r,n){var o,a,u=t.arg;if(u.idx){var i=h();return m(u.idx,i,n),e.push(i,"< 0 && (",i,"=",n,".length +",i,");",r,"=",n,"[",i,"] == null? [] : [",n,"[",i,"]];"),y(i),!1}u.fromIdx?u.toIdx?(m(u.fromIdx,o=h(),n),m(u.toIdx,a=h(),n),e.push(r,"=",n,".slice(",o,",",a,");"),y(o,a)):(m(u.fromIdx,o=h(),n),e.push(r,"=",n,".slice(",o,");"),y(o)):(m(u.toIdx,a=h(),n),e.push(r,"=",n,".slice(0,",a,");"),y(a))}function m(t,r,n){switch(t.type){case o:!function(t,r,n){var o=t.parts,s=0,f=o.length;for(e.push(r,"=",t.fromRoot?"data":t.subst?"subst."+t.subst:n,";","isArr("+r+") || ("+r+" = ["+r+"]);");s<f;){var c=o[s++];switch(c.type){case a:".."===c.selector?d(c,r,r):g(c,r,r);break;case u:w(c,r,r);break;case i:b(c,r,r);break;case p:j(c,r,r)}}}(t,r,n);break;case p:j(t,r,n);break;case f:!function(t,r,n){var a=h(),u=h(),i=h(),s=h(),f=h(),c=h(),p=h(),l=h(),g=t.args[0],d=t.args[1];e.push(r,"= false;"),m(g,a,n),m(d,u,n);var w=g.type===o,b=d.type===v;e.push(i,"="),w?e.push("true;"):e.push("isArr(",a,");"),e.push(s,"="),b?e.push("false;"):e.push("isArr(",u,");"),e.push("if("),w||e.push(i,"&&"),e.push(a,".length === 1) {",a,"=",a,"[0];",i,"= false;","}"),b||e.push("if(",s,"&&",u,".length === 1) {",u,"=",u,"[0];",s,"= false;","}"),e.push(f,"= 0;","if(",i,") {",p,"=",a,".length;"),b||(e.push("if(",s,") {",l,"=",u,".length;","while(",f,"<",p,"&& !",r,") {",c,"= 0;","while(",c,"<",l,") {"),x(t.op,[a,"[",f,"]"].join(""),[u,"[",c,"]"].join("")),e.push(r,"= true;","break;","}","++",c,";","}","++",f,";","}","}","else {"));e.push("while(",f,"<",p,") {"),x(t.op,[a,"[",f,"]"].join(""),u),e.push(r,"= true;","break;","}","++",f,";","}"),b||e.push("}"),e.push("}"),b||(e.push("else if(",s,") {",l,"=",u,".length;","while(",f,"<",l,") {"),x(t.op,a,[u,"[",f,"]"].join("")),e.push(r,"= true;","break;","}","++",f,";","}","}"));e.push("else {",r,"=",N[t.op](a,u),";","}"),y(a,u,i,s,f,c,p,l)}(t,r,n);break;case c:!function(t,r,n){var o=h(),a=h(),u=t.args;m(u[0],o,n),m(u[1],a,n),e.push(r,"=",N[t.op](S(u[0],o),S(u[1],a)),";"),y(o,a)}(t,r,n);break;case s:!function(t,r,n){var o,a=[],u=t.args,i=u.length,s=0;switch(e.push(r,"= false;"),t.op){case"&&":for(;s<i;)a.push(o=h()),m(u[s],o,n),e.push("if(",k(u[s++],o),") {");e.push(r,"= true;");break;case"||":for(;s<i;)a.push(o=h()),m(u[s],o,n),e.push("if(",k(u[s],o),") {",r,"= true;","}"),1+s++<i&&e.push("else {");--i}for(;i--;)e.push("}");y.apply(null,a)}(t,r,n);break;case l:!function(t,r,n){var o=h(),a=t.arg;switch(m(a,o,n),t.op){case"!":e.push(r,"= !",k(a,o)+";");break;case"-":e.push(r,"= -",S(a,o)+";")}y(o)}(t,r,n);break;case v:e.push(r,"="),I=t.val,e.push("string"==typeof I?O(I):null===I?"null":I),e.push(";")}var I}function x(t,r,n){e.push("if(",N[t](r,n),") {")}function j(t,r,n){for(var o=[],a=t.args,u=a.length,i=0;i<u;)o.push(h()),m(a[i],o[i++],n);e.push(r,"= concat.call(",o.join(","),");"),y.apply(null,o)}function O(e){return"'"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"}function I(t,r,n,o){e.push("if(typeof ",r,'!== "undefined") {',"if(isArr(",r,")) {"),n&&(e.push(o,"> 1?"),A(n,r),e.push(":")),e.push(t,"=",t,".length?",t,".concat(",r,") :",r,".slice()",";","}","else {"),n&&e.push("if(",n,".length) {",t,"= concat.apply(",t,",",n,");",n,"= [];","}"),A(t,r),e.push(";","}","}")}function A(t,r){e.push(t,".length?",t,".push(",r,") :",t,"[0] =",r)}function k(e,t){switch(e.type){case s:return t;case v:return"!!"+t;case o:return t+".length > 0";default:return["(typeof ",t,'=== "boolean"?',t,":","isArr(",t,")?",t,".length > 0 : !!",t,")"].join("")}}function S(e,t){switch(e.type){case v:return t;case o:return t+"[0]";default:return["(isArr(",t,")?",t,"[0] : ",t,")"].join("")}}function $(e,t){return["typeof ",e,'=== "string" && typeof ',t,'=== "string" &&',e,".indexOf(",t,") === 0"].join("")}function M(e,t){return[e,"!= null &&",t,"!= null &&",e,".toString().toLowerCase().indexOf(",t,".toString().toLowerCase()) === 0"].join("")}function P(e,t){return["typeof ",e,'=== "string" && typeof ',t,'=== "string" &&',e,".length >=",t,".length &&",e,".lastIndexOf(",t,") ===",e,".length -",t,".length"].join("")}function C(e,t){return[e,"!= null &&",t,"!= null &&","(",e,"=",e,".toString()).length >=","(",t,"=",t,".toString()).length &&","(",e,".toLowerCase()).lastIndexOf(","(",t,".toLowerCase())) ===",e,".length -",t,".length"].join("")}function E(e,t){return["typeof ",e,'=== "string" && typeof ',t,'=== "string" &&',e,".indexOf(",t,") > -1"].join("")}function W(e,t){return[e,"!= null && ",t,"!= null &&",e,".toString().toLowerCase().indexOf(",t,".toString().toLowerCase()) > -1"].join("")}var N={"===":function(e,t){return e+"==="+t},"==":function(e,t){return["typeof ",e,'=== "string" && typeof ',t,'=== "string"?',e,".toLowerCase() ===",t,".toLowerCase() :"+e,"==",t].join("")},">=":function(e,t){return e+">="+t},">":function(e,t){return e+">"+t},"<=":function(e,t){return e+"<="+t},"<":function(e,t){return e+"<"+t},"!==":function(e,t){return e+"!=="+t},"!=":function(e,t){return e+"!="+t},"^==":$,"==^":function(e,t){return $(t,e)},"^=":M,"=^":function(e,t){return M(t,e)},"$==":P,"==$":function(e,t){return P(t,e)},"$=":C,"=$":function(e,t){return C(t,e)},"*==":E,"==*":function(e,t){return E(t,e)},"=*":function(e,t){return W(t,e)},"*=":W,"+":function(e,t){return e+"+"+t},"-":function(e,t){return e+"-"+t},"*":function(e,t){return e+"*"+t},"/":function(e,t){return e+"/"+t},"%":function(e,t){return e+"%"+t}};return function(a){if(e=[],t=["res"],r=0,n=[],m(a,"res","data"),e.unshift("var ",Array.isArray?"isArr = Array.isArray":'toStr = Object.prototype.toString, isArr = function(o) { return toStr.call(o) === "[object Array]"; }',", concat = Array.prototype.concat",",",t.join(","),";"),a.type===o){var u=a.parts[a.parts.length-1];u&&u.type===i&&"idx"in u.arg&&e.push("res = res[0];")}return e.push("return res;"),e.join("")}}();function d(e){return Function("data,subst",g(y(e)))}var w={},b=[],m={cacheSize:100},x={cacheSize:function(e,t){if(t<e&&b.length>t)for(var r=b.splice(0,b.length-t),n=r.length;n--;)delete w[r[n]]}},j=function(e,t,r){return w[e]||(w[e]=d(e),b.push(e)>m.cacheSize&&delete w[b.shift()]),w[e](t,r||{})};j.version="0.3.4",j.params=function(e){if(!arguments.length)return m;for(var t in e)e.hasOwnProperty(t)&&(x[t]&&x[t](m[t],e[t]),m[t]=e[t])},j.compile=d,j.apply=j,"object"==typeof e.exports?e.exports=j:"object"==typeof modules?modules.define("jspath",(function(e){e(j)})):(n=function(e,t,r){r.exports=j}.call(t,r,t,e),void 0===n||(e.exports=n))}()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(915),t=r.n(e);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){i(e,t),t.add(e)}function u(e,t,r){i(e,t),t.set(e,r)}function i(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function c(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,l(e,t,"get"))}function p(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,l(e,t,"set"),r),r}function l(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function h(e){try{var t=e.split(".");if(t.length>1){var r=decodeURIComponent(atob(t[1].replace(/-/g,"+").replace(/_/g,"/")).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(r)}return{}}catch(e){return{}}}var v=new WeakMap,y=new WeakMap,g=new WeakMap,d=new WeakSet,w=new WeakSet,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,w),a(this,d),s(this,"version","1.0.0"),u(this,v,{writable:!0,value:""}),u(this,y,{writable:!0,value:"AMIXmlToJson.xsl"}),u(this,g,{writable:!0,value:new RegExp("-\\W*([a-zA-Z][a-zA-Z0-9]*)\\W*=\\W*\\?","g")}),p(this,v,t)}var r,i,l;return r=e,i=[{key:"getEndpoint",value:function(){return c(this,v)}},{key:"execute",value:function(e,r){r=r||{};var o=$.Deferred(),a=(r.endpoint||c(this,v)).trim(),u=(r.converter||c(this,y)).trim(),i=r.extras||{},f=r.params||[],p=r.context||o,l=r.timeout||12e4,h=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({Command:e=(e||"").trim().replace(c(this,g),(function(e,t){var r=f.shift();return"[object String]"===Object.prototype.toString.call(r)?"-".concat(t,"=").concat(JSON.stringify(r)):"-".concat(t,'="').concat(JSON.stringify(r),'"')})),Converter:u},i),d=a,w=a+"?"+$.param(h);return"AMIXmlToJson.xsl"===u?$.ajax({url:d,data:h,type:"POST",timeout:l,dataType:"json",xhrFields:{withCredentials:!0},success:function(e){var r=t().apply(".AMIMessage.info.$",e),n=t().apply(".AMIMessage.error.$",e);0===n.length?o.resolveWith(p,[e,r.join(". "),w]):o.rejectWith(p,[e,n.join(". "),w])},error:function(e,t){"error"===t&&(t="service temporarily unreachable"),"parsererror"===t&&(t="resource temporarily unreachable");var r={AMIMessage:[{error:[{$:t}]}]};o.rejectWith(p,[r,t,w])}}):$.ajax({url:d,data:h,type:"POST",timeout:l,dataType:"text",xhrFields:{withCredentials:!0},success:function(e){o.resolveWith(p,[e,e,w])},error:function(e,t){"error"===t&&(t="service temporarily unreachable"),o.rejectWith(p,[t,t,w])}}),o.promise()}},{key:"signInByToken",value:function(e,t){return f(this,w,x).call(this,this.execute("GetSessionInfo -AMIUser=? -AMIPass=?",{extras:{NoCert:null},params:[h(e).sub,"Bearer ".concat(e)]}),t)}},{key:"signInByPassword",value:function(e,t,r){return f(this,w,x).call(this,this.execute("GetSessionInfo -AMIUser=? -AMIPass=?",{extras:{NoCert:null},params:[e,t]}),r)}},{key:"signInByCertificate",value:function(e){return f(this,w,x).call(this,this.execute("GetSessionInfo",{extras:{},params:[]}),e)}},{key:"signOut",value:function(e){return f(this,w,x).call(this,this.execute("GetSessionInfo -AMIUser=? -AMIPass=?",{extras:{NoCert:null},params:["",""]}),e)}},{key:"jspath",value:function(e,r){return t().apply(e,r)}}],i&&o(r.prototype,i),l&&o(r,l),e}();function m(){return{AMIUser:"guest",guestUser:"guest",clientDNInAMI:"",issuerDNInAMI:"",clientDNInSession:"",issuerDNInSession:"",notBefore:"",notAfter:"",firstName:"guest",lastName:"guest",email:"N/A",country:"N/A",valid:"false",certEnabled:"false",vomsEnabled:"false"}}function x(e,r){var n=this;r=r||{};var o=$.Deferred(),a=r.context||o;return e.then((function(e,r){var n={},u={},i={},s={},f={};t().apply('..rowset{.@type==="user"}.row.field',e).forEach((function(e){n[e["@name"]]=e.$})),t().apply('..rowset{.@type==="awf"}.row.field',e).forEach((function(e){f[e["@name"]]=e.$})),t().apply('..rowset{.@type==="role"}.row',e).forEach((function(e){var t="",r={};e.field.forEach((function(e){r[e["@name"]]=e.$,"name"===e["@name"]&&(t=e.$)})),u[t]=r})),t().apply('..rowset{.@type==="bookmark"}.row',e).forEach((function(e){var t="",r={};e.field.forEach((function(e){r[e["@name"]]=e.$,"hash"===e["@name"]&&(t=e.$)})),i[t]=r})),t().apply('..rowset{.@type==="dashboard"}.row',e).forEach((function(e){var t="",r={};e.field.forEach((function(e){r[e["@name"]]=e.$,"hash"===e["@name"]&&(t=e.$)})),s[t]=r})),o.resolveWith(a,[e,r,n,u,i,s,f])}),(function(e,t){o.rejectWith(a,[e,t,f(n,d,m).call(n),{},{},{},{}])})),o.promise()}"undefined"!=typeof window&&(window.AMIHTTPClient=b)})()})();