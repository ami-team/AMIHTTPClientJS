/*!
 * Copyright © 2021-2021 CNRS/LPSC
 *
 * Author: Jérôme ODIER (jerome.odier@lpsc.in2p3.fr)
 *
 * Repositories: https://gitlab.in2p3.fr/ami-team/AMIHTTPClientJS/
 *               https://www.github.com/ami-team/AMIHTTPClientJS/
 *
 * This software is a computer program whose purpose is to provide an
 * HTTP Client to the ATLAS Metadata Interface (AMI) ecosystem.
 *
 * This software is governed by the CeCILL-C license under French law and
 * abiding by the rules of distribution of free software. You can use,
 * modify and/or redistribute the software under the terms of the CeCILL-C
 * license as circulated by CEA, CNRS and INRIA at the following URL
 * "http://www.cecill.info".
 *
 * The fact that you are presently reading this means that you have had
 * knowledge of the CeCILL-C license and that you accept its terms.
 *
 */(()=>{var r={915:(r,n,t)=>{t(583)},583:(r,n,t)=>{"use strict";var e;!function(){var u=1,o=2,i=3,a=4,s=5,f=6,p=7,c=8,l=9,h=10,v=11,g=function(){var r,n,t,e,g=1,y=2,d=3,x=4,w=5,b=6,j=7,O='Unexpected token "%0"',A="Unexpected end of path";function k(){for(var r,n=I();E("|");)q(),(r||(r=[n])).push(I());return r?{type:c,args:r}:n}function I(){return E("(")?$():S()}function $(){U("(");var r=k();U(")");for(var n,t=[];n=m();)t.push(n);return t.length?r.type===u?(r.parts=r.parts.concat(t),r):(t.unshift(r),{type:u,parts:t}):r}function m(){return E("[")?function(){U("[");var r=function(){if(E(":"))return q(),{type:h,toIdx:_()};var r=_();if(E(":"))return q(),E("]")?{type:h,fromIdx:r}:{type:h,fromIdx:r,toIdx:_()};return{type:h,idx:r}}();return U("]"),{type:a,arg:r}}():E("{")?function(){U("{");var r=C();return U("}"),{type:i,arg:r}}():E("(")?$():void 0}function S(){F()||J(q());var r,n=!1;E("^")?(q(),n=!0):R()&&(r=q().val.substr(1));for(var t,e=[];t=M()?function(){var r,n=q().val,t=H();(E("*")||t.type===g||t.type===d)&&(r=q().val);return{type:o,selector:n,prop:r}}():m();)e.push(t);return{type:u,fromRoot:n,subst:r,parts:e}}function C(){for(var r,n=L();E("||");)q(),(r||(r=[n])).push(L());return r?{type:s,op:"||",args:r}:n}function L(){for(var r,n=P();E("&&");)q(),(r||(r=[n])).push(P());return r?{type:s,op:"&&",args:r}:n}function P(){for(var r=z();E("==")||E("!=")||E("===")||E("!==")||E("^==")||E("==^")||E("^=")||E("=^")||E("$==")||E("==$")||E("$=")||E("=$")||E("*==")||E("==*")||E("*=")||E("=*");)r={type:f,op:q().val,args:[r,P()]};return r}function z(){for(var r=function(){var r=T();for(;E("+")||E("-");)r={type:p,op:q().val,args:[r,T()]};return r}();E("<")||E(">")||E("<=")||E(">=");)r={type:f,op:q().val,args:[r,z()]};return r}function T(){for(var r=_();E("*")||E("/")||E("%");)r={type:p,op:q().val,args:[r,T()]};return r}function _(){return E("!")||E("-")?{type:l,op:q().val,arg:_()}:function(){var r=H().type;if(r===d||r===y||r===x||r===w)return{type:v,val:q().val};if(F())return S();if(E("("))return function(){U("(");var r=C();return U(")"),r}();return J(q())}()}function E(r){var n=H();return n.type===b&&n.val===r}function F(){return M()||R()||E("^")}function M(){var r=H();if(r.type===b){var n=r.val;return"."===n||".."===n}return!1}function R(){var r=H();return r.type===g&&"$"===r.val[0]}function U(r){var n=q();n.type===b&&n.val===r||J(n)}function H(){if(null!==t)return t;var r=n;return t=Z(),n=r,t}function Z(){for(;t=r[n]," \r\n\t".indexOf(t)>-1;)++n;var t;if(n>=e)return{type:j,range:[n,n]};var u=function(){var t=n,e=r[n],u=r[n+1];if("."===e){if(B(u))return;return"."===r[++n]?{type:b,val:"..",range:[t,++n]}:{type:b,val:".",range:[t,n]}}if("="===u){var o=r[n+2];if("="===o){if("=!^$*".indexOf(e)>=0)return{type:b,val:e+u+o,range:[t,n+=3]}}else if("^$*".indexOf(o)>=0){if("="===e)return{type:b,val:e+u+o,range:[t,n+=3]}}else if("=!^$*><".indexOf(e)>=0)return{type:b,val:e+u,range:[t,n+=2]}}else if("="===e&&"^$*".indexOf(u)>=0)return{type:b,val:e+u,range:[t,n+=2]};if(e===u&&("|"===e||"&"===e))return{type:b,val:e+u,range:[t,n+=2]};if(":{}()[]^+-*/%!><|".indexOf(e)>=0)return{type:b,val:e,range:[t,++n]}}();if(u||(u=function(){var t=r[n];if(!D(t))return;var u=n,o=t;for(;++n<e&&G(t=r[n]);)o+=t;switch(o){case"true":case"false":return{type:x,val:"true"===o,range:[u,n]};case"null":return{type:w,val:null,range:[u,n]};default:return{type:g,val:o,range:[u,n]}}}())||(u=function(){if('"'!==r[n]&&"'"!==r[n])return;var t,u=r[n],o=++n,i="",a=!1;for(;n<e;){if("\\"===(t=r[n++]))t=r[n++];else if(('"'===t||"'"===t)&&t===u){a=!0;break}i+=t}if(a)return{type:d,val:i,range:[o,n]}}())||(u=function(){var t=n,u=r[n],o="."===u;if(o||B(u)){for(var i=u;++n<e;){if("."===(u=r[n])){if(o)return;o=!0}else if(!B(u))break;i+=u}return{type:y,val:o?parseFloat(i):parseInt(i,10),range:[t,n]}}}()))return u;u={range:[n,n]},n>=e?u.type=j:u.val=r[n],J(u)}function q(){var r;return t?(n=t.range[1],r=t,t=null,r):Z()}function B(r){return"0123456789".indexOf(r)>=0}function D(r){return"$"===r||"@"===r||"_"===r||r>="a"&&r<="z"||r>="A"&&r<="Z"}function G(r){return D(r)||r>="0"&&r<="9"}function J(r){r.type===j&&K(r,A),K(r,O,r.val)}function K(r,n){var t=Array.prototype.slice.call(arguments,2),e=n.replace(/%(\d)/g,(function(r,n){return t[n]||""})),u=new Error(e);throw u.column=r.range[0],u}return function(u){r=u.split(""),n=0,t=null,e=r.length;var o=k(),i=q();return i.type!==j&&J(i),o}}(),y=function(){var r,n,t,e;function h(){if(e.length)return e.shift();var r="v"+ ++t;return n.push(r),r}function g(){for(var r=arguments,n=r.length;n--;)e.push(r[n])}function y(n,t,e){if(n.prop){var u=A(n.prop),o=h(),i=h(),a=h(),s=h(),f=h(),p=h(),c=h();r.push(o,"= [];",i,"= 0;",a,"=",e,".length;",c,"= [];","while(",i,"<",a,") {",s,"=",e,"[",i,"++];","if(",s,"!= null) {"),"*"===n.prop?(r.push("if(typeof ",s,'=== "object") {',"if(isArr(",s,")) {",o,"=",o,".concat(",s,");","}","else {","for(",f," in ",s,") {","if(",s,".hasOwnProperty(",f,")) {",p,"=",s,"[",f,"];"),k(o,p),r.push("}","}","}","}")):(r.push(p,"=",s,"[",u,"];"),k(o,p,c,a)),r.push("}","}",t,"=",a,"> 1 &&",c,".length?",c,".length > 1?","concat.apply(",o,",",c,") :",o,".concat(",c,"[0]) :",o,";"),g(o,i,a,s,f,p,c)}}function d(n,t,e){var u=n.prop,o=h(),i=h(),a=h(),s=h(),f=h(),p=h(),c=h(),l=h();r.push(o,"=",e,".slice(),",l,"= [];","while(",o,".length) {",i,"=",o,".shift();"),u?r.push("if(typeof ",i,'=== "object" &&',i,") {"):r.push("if(typeof ",i,"!= null) {"),r.push(a,"= [];","if(isArr(",i,")) {",s,"= 0,",c,"=",i,".length;","while(",s,"<",c,") {",p,"=",i,"[",s,"++];"),u&&r.push("if(typeof ",p,'=== "object") {'),k(a,p),u&&r.push("}"),r.push("}","}","else {"),u?"*"!==u&&(r.push(p,"=",i,'["'+u+'"];'),k(l,p)):(k(l,i),r.push("if(typeof ",i,'=== "object") {')),r.push("for(",f," in ",i,") {","if(",i,".hasOwnProperty(",f,")) {",p,"=",i,"[",f,"];"),k(a,p),"*"===u&&k(l,p),r.push("}","}"),u||r.push("}"),r.push("}",a,".length &&",o,".unshift.apply(",o,",",a,");","}","}",t,"=",l,";"),g(o,i,a,s,f,p,c,l)}function x(n,t,e){var u=h(),o=h(),i=h(),a=h(),s=h();r.push(u,"= [];",o,"= 0;",i,"=",e,".length;","while(",o,"<",i,") {",s,"=",e,"[",o,"++];"),b(n.arg,a,s),r.push($(n.arg,a),"&&",u,".push(",s,");","}",t,"=",u,";"),g(u,o,i,s,a)}function w(n,t,e){var u,o,i=n.arg;if(i.idx){var a=h();return b(i.idx,a,e),r.push(a,"< 0 && (",a,"=",e,".length +",a,");",t,"=",e,"[",a,"] == null? [] : [",e,"[",a,"]];"),g(a),!1}i.fromIdx?i.toIdx?(b(i.fromIdx,u=h(),e),b(i.toIdx,o=h(),e),r.push(t,"=",e,".slice(",u,",",o,");"),g(u,o)):(b(i.fromIdx,u=h(),e),r.push(t,"=",e,".slice(",u,");"),g(u)):(b(i.toIdx,o=h(),e),r.push(t,"=",e,".slice(0,",o,");"),g(o))}function b(n,t,e){switch(n.type){case u:!function(n,t,e){var u=n.parts,s=0,f=u.length;for(r.push(t,"=",n.fromRoot?"data":n.subst?"subst."+n.subst:e,";","isArr("+t+") || ("+t+" = ["+t+"]);");s<f;){var p=u[s++];switch(p.type){case o:".."===p.selector?d(p,t,t):y(p,t,t);break;case i:x(p,t,t);break;case a:w(p,t,t);break;case c:O(p,t,t)}}}(n,t,e);break;case c:O(n,t,e);break;case f:!function(n,t,e){var o=h(),i=h(),a=h(),s=h(),f=h(),p=h(),c=h(),l=h(),y=n.args[0],d=n.args[1];r.push(t,"= false;"),b(y,o,e),b(d,i,e);var x=y.type===u,w=d.type===v;r.push(a,"="),x?r.push("true;"):r.push("isArr(",o,");"),r.push(s,"="),w?r.push("false;"):r.push("isArr(",i,");"),r.push("if("),x||r.push(a,"&&"),r.push(o,".length === 1) {",o,"=",o,"[0];",a,"= false;","}"),w||r.push("if(",s,"&&",i,".length === 1) {",i,"=",i,"[0];",s,"= false;","}"),r.push(f,"= 0;","if(",a,") {",c,"=",o,".length;"),w||(r.push("if(",s,") {",l,"=",i,".length;","while(",f,"<",c,"&& !",t,") {",p,"= 0;","while(",p,"<",l,") {"),j(n.op,[o,"[",f,"]"].join(""),[i,"[",p,"]"].join("")),r.push(t,"= true;","break;","}","++",p,";","}","++",f,";","}","}","else {"));r.push("while(",f,"<",c,") {"),j(n.op,[o,"[",f,"]"].join(""),i),r.push(t,"= true;","break;","}","++",f,";","}"),w||r.push("}"),r.push("}"),w||(r.push("else if(",s,") {",l,"=",i,".length;","while(",f,"<",l,") {"),j(n.op,o,[i,"[",f,"]"].join("")),r.push(t,"= true;","break;","}","++",f,";","}","}"));r.push("else {",t,"=",_[n.op](o,i),";","}"),g(o,i,a,s,f,p,c,l)}(n,t,e);break;case p:!function(n,t,e){var u=h(),o=h(),i=n.args;b(i[0],u,e),b(i[1],o,e),r.push(t,"=",_[n.op](m(i[0],u),m(i[1],o)),";"),g(u,o)}(n,t,e);break;case s:!function(n,t,e){var u,o=[],i=n.args,a=i.length,s=0;switch(r.push(t,"= false;"),n.op){case"&&":for(;s<a;)o.push(u=h()),b(i[s],u,e),r.push("if(",$(i[s++],u),") {");r.push(t,"= true;");break;case"||":for(;s<a;)o.push(u=h()),b(i[s],u,e),r.push("if(",$(i[s],u),") {",t,"= true;","}"),1+s++<a&&r.push("else {");--a}for(;a--;)r.push("}");g.apply(null,o)}(n,t,e);break;case l:!function(n,t,e){var u=h(),o=n.arg;switch(b(o,u,e),n.op){case"!":r.push(t,"= !",$(o,u)+";");break;case"-":r.push(t,"= -",m(o,u)+";")}g(u)}(n,t,e);break;case v:r.push(t,"="),k=n.val,r.push("string"==typeof k?A(k):null===k?"null":k),r.push(";")}var k}function j(n,t,e){r.push("if(",_[n](t,e),") {")}function O(n,t,e){for(var u=[],o=n.args,i=o.length,a=0;a<i;)u.push(h()),b(o[a],u[a++],e);r.push(t,"= concat.call(",u.join(","),");"),g.apply(null,u)}function A(r){return"'"+r.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"}function k(n,t,e,u){r.push("if(typeof ",t,'!== "undefined") {',"if(isArr(",t,")) {"),e&&(r.push(u,"> 1?"),I(e,t),r.push(":")),r.push(n,"=",n,".length?",n,".concat(",t,") :",t,".slice()",";","}","else {"),e&&r.push("if(",e,".length) {",n,"= concat.apply(",n,",",e,");",e,"= [];","}"),I(n,t),r.push(";","}","}")}function I(n,t){r.push(n,".length?",n,".push(",t,") :",n,"[0] =",t)}function $(r,n){switch(r.type){case s:return n;case v:return"!!"+n;case u:return n+".length > 0";default:return["(typeof ",n,'=== "boolean"?',n,":","isArr(",n,")?",n,".length > 0 : !!",n,")"].join("")}}function m(r,n){switch(r.type){case v:return n;case u:return n+"[0]";default:return["(isArr(",n,")?",n,"[0] : ",n,")"].join("")}}function S(r,n){return["typeof ",r,'=== "string" && typeof ',n,'=== "string" &&',r,".indexOf(",n,") === 0"].join("")}function C(r,n){return[r,"!= null &&",n,"!= null &&",r,".toString().toLowerCase().indexOf(",n,".toString().toLowerCase()) === 0"].join("")}function L(r,n){return["typeof ",r,'=== "string" && typeof ',n,'=== "string" &&',r,".length >=",n,".length &&",r,".lastIndexOf(",n,") ===",r,".length -",n,".length"].join("")}function P(r,n){return[r,"!= null &&",n,"!= null &&","(",r,"=",r,".toString()).length >=","(",n,"=",n,".toString()).length &&","(",r,".toLowerCase()).lastIndexOf(","(",n,".toLowerCase())) ===",r,".length -",n,".length"].join("")}function z(r,n){return["typeof ",r,'=== "string" && typeof ',n,'=== "string" &&',r,".indexOf(",n,") > -1"].join("")}function T(r,n){return[r,"!= null && ",n,"!= null &&",r,".toString().toLowerCase().indexOf(",n,".toString().toLowerCase()) > -1"].join("")}var _={"===":function(r,n){return r+"==="+n},"==":function(r,n){return["typeof ",r,'=== "string" && typeof ',n,'=== "string"?',r,".toLowerCase() ===",n,".toLowerCase() :"+r,"==",n].join("")},">=":function(r,n){return r+">="+n},">":function(r,n){return r+">"+n},"<=":function(r,n){return r+"<="+n},"<":function(r,n){return r+"<"+n},"!==":function(r,n){return r+"!=="+n},"!=":function(r,n){return r+"!="+n},"^==":S,"==^":function(r,n){return S(n,r)},"^=":C,"=^":function(r,n){return C(n,r)},"$==":L,"==$":function(r,n){return L(n,r)},"$=":P,"=$":function(r,n){return P(n,r)},"*==":z,"==*":function(r,n){return z(n,r)},"=*":function(r,n){return T(n,r)},"*=":T,"+":function(r,n){return r+"+"+n},"-":function(r,n){return r+"-"+n},"*":function(r,n){return r+"*"+n},"/":function(r,n){return r+"/"+n},"%":function(r,n){return r+"%"+n}};return function(o){if(r=[],n=["res"],t=0,e=[],b(o,"res","data"),r.unshift("var ",Array.isArray?"isArr = Array.isArray":'toStr = Object.prototype.toString, isArr = function(o) { return toStr.call(o) === "[object Array]"; }',", concat = Array.prototype.concat",",",n.join(","),";"),o.type===u){var i=o.parts[o.parts.length-1];i&&i.type===a&&"idx"in i.arg&&r.push("res = res[0];")}return r.push("return res;"),r.join("")}}();function d(r){return Function("data,subst",y(g(r)))}var x={},w=[],b={cacheSize:100},j={cacheSize:function(r,n){if(n<r&&w.length>n)for(var t=w.splice(0,w.length-n),e=t.length;e--;)delete x[t[e]]}},O=function(r,n,t){return x[r]||(x[r]=d(r),w.push(r)>b.cacheSize&&delete x[w.shift()]),x[r](n,t||{})};O.version="0.3.4",O.params=function(r){if(!arguments.length)return b;for(var n in r)r.hasOwnProperty(n)&&(j[n]&&j[n](b[n],r[n]),b[n]=r[n])},O.compile=d,O.apply=O,"object"==typeof r.exports?r.exports=O:"object"==typeof modules?modules.define("jspath",(function(r){r(O)})):(e=function(r,n,t){t.exports=O}.call(n,t,n,r),void 0===e||(r.exports=e))}()}},n={};function t(e){var u=n[e];if(void 0!==u)return u.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,t),o.exports}t.n=r=>{var n=r&&r.__esModule?()=>r.default:()=>r;return t.d(n,{a:n}),n},t.d=(r,n)=>{for(var e in n)t.o(n,e)&&!t.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:n[e]})},t.o=(r,n)=>Object.prototype.hasOwnProperty.call(r,n),(()=>{"use strict";t(915);"undefined"!=typeof window&&(window.AMIHTTPClient=function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r)})})()})();